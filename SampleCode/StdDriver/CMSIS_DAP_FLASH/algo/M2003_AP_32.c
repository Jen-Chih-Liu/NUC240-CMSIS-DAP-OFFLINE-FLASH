/* Flash OS Routines (Automagically Generated)
 * Copyright (c) 2009-2015 ARM Limited
 */
#include "flash_blob.h"

static const uint32_t flash_code[] = {
    0xE00ABE00, 0x062D780D, 0x24084068, 0xD3000040, 0x1E644058, 0x1C49D1FA, 0x2A001E52, 0x4770D1F2,
    0x9002B084, 0x92009101, 0x21594823, 0x21166001, 0x21886001, 0x68006001, 0xD0032801, 0x2001E7FF,
    0xE0369003, 0x6800481D, 0x280006C0, 0xE7FFD40E, 0x6808491B, 0x43102204, 0xE7FF6008, 0x68004817,
    0x280006C0, 0xE7FFD401, 0xE7FFE7F8, 0x68004815, 0x40082107, 0xD0082805, 0x4912E7FF, 0x22056808,
    0x22024310, 0x60084390, 0x490FE7FF, 0x22026808, 0x60084310, 0x216D480D, 0x68006001, 0x4008212D,
    0xD003282D, 0x2001E7FF, 0xE0029003, 0x90032000, 0x9803E7FF, 0x4770B004, 0x40000100, 0x40000250,
    0x40000200, 0x40000210, 0x40000204, 0x4000C000, 0x9000B081, 0x4805E7FF, 0x07C06800, 0xE7FFB108,
    0x4903E7F9, 0x60082000, 0x4770B001, 0x4000C040, 0x4000C000, 0x9001B083, 0x4823E7FF, 0x07C06800,
    0xE7FFB108, 0x4921E7F9, 0x22406808, 0x60084310, 0x2022491F, 0x98016008, 0x6008491E, 0x21019801,
    0x42880549, 0xE7FFD005, 0x491B9801, 0xD1044288, 0x491AE7FF, 0x6008481A, 0x2000E004, 0x491743C0,
    0xE7FF6008, 0x20014917, 0xF3BF6008, 0xE7FF8F6F, 0x6800480D, 0xB10807C0, 0xE7F9E7FF, 0x6800480B,
    0x46689000, 0x06407800, 0xD5062800, 0x9800E7FF, 0x60084906, 0x90022001, 0x2000E002, 0xE7FF9002,
    0xB0039802, 0x46C04770, 0x4000C040, 0x4000C000, 0x4000C00C, 0x4000C004, 0x00200200, 0x4000C008,
    0x0055AA03, 0x4000C010, 0xB086B580, 0x91039004, 0x20009202, 0x98029001, 0xE7FFB118, 0x90052001,
    0xE7FFE016, 0x99039801, 0xD20E4288, 0x9804E7FF, 0x1C4A9901, 0x00899201, 0xF7FF5840, 0xB118FF8B,
    0x2001E7FF, 0xE0039005, 0x2000E7EC, 0xE7FF9005, 0xB0069805, 0x46C0BD80, 0x9003B085, 0x92019102,
    0x7800A803, 0xB1180780, 0x2001E7FF, 0xE0469004, 0x1CC09802, 0x43882103, 0xE7FF9002, 0x68004821,
    0xB10807C0, 0xE7F9E7FF, 0x6808491F, 0x43102240, 0x491E6008, 0x60082021, 0x9802E7FF, 0xE7FFB360,
    0x491B9803, 0x98016008, 0x491A6800, 0x491A6008, 0x60082001, 0x8F6FF3BF, 0x4812E7FF, 0x07C06800,
    0xE7FFB108, 0x4810E7F9, 0x90006800, 0x78004668, 0x28000640, 0xE7FFD506, 0x490B9800, 0x20016008,
    0xE00C9004, 0x1D009803, 0x98019003, 0x90011D00, 0x1F009802, 0xE7D09002, 0x90042000, 0x9804E7FF,
    0x4770B005, 0x4000C040, 0x4000C000, 0x4000C00C, 0x4000C004, 0x4000C008, 0x4000C010, 0x9003B085,
    0x92019102, 0x7800A803, 0xB1180780, 0x9803E7FF, 0xE04A9004, 0x1CC09802, 0x43882103, 0xE7FF9002,
    0x68004823, 0xB10807C0, 0xE7F9E7FF, 0x68084921, 0x43102240, 0x49206008, 0x60082000, 0x9802E7FF,
    0xE7FFB380, 0x491D9803, 0x491D6008, 0x60082001, 0x8F6FF3BF, 0x4816E7FF, 0x07C06800, 0xE7FFB108,
    0x4814E7F9, 0x90006800, 0x78004668, 0x28000640, 0xE7FFD504, 0x490F9800, 0xE0136008, 0x68004811,
    0x98009000, 0x68099901, 0xD0014288, 0xE009E7FF, 0x1D009803, 0x98019003, 0x90011D00, 0x1F009802,
    0xE7CC9002, 0x90049803, 0x9804E7FF, 0x4770B005, 0x4000C040, 0x4000C000, 0x4000C00C, 0x4000C004,
    0x4000C010, 0x4000C008, 0x00000000
};

const program_target_t flash_algo = {
    0x20000021,  // Init
    0x200000D1,  // UnInit
    0x2000001F,  // EraseChip
    0x200000F5,  // EraseSector
    0x200001F9,  // ProgramPage

    // BKPT : start of blob + 1
    // RSB  : address to access global/static data
    // RSP  : stack pointer
    {
        0x20000001,
        0x20000C00,
        0x20001000
    },

    0x20000400,  // mem buffer location
    0x20000000,  // location to write prog_blob in target RAM
    sizeof(flash_code),  // prog_blob size
    flash_code,  // address of prog_blob
    0x00000200,  // ram_to_flash_bytes_to_be_written
};
