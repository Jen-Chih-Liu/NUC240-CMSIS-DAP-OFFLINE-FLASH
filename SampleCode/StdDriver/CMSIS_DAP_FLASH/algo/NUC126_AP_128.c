/* Flash OS Routines (Automagically Generated)
 * Copyright (c) 2009-2015 ARM Limited
 */
#include "flash_blob.h"

static const uint32_t flash_code[] = {
    0xE00ABE00, 0x062D780D, 0x24084068, 0xD3000040, 0x1E644058, 0x1C49D1FA, 0x2A001E52, 0x4770D1F2,
    0x4603B530, 0x2164460C, 0x4DDA2059, 0x20166028, 0x20886028, 0x46286028, 0x07C06800, 0xD1010FC0,
    0xBD302001, 0x680048D4, 0x43282504, 0x60284DD2, 0x68404628, 0x43282504, 0x60684DCF, 0x4608BF00,
    0x28001E49, 0x48CDD1FB, 0x252D6800, 0x4DCB4328, 0x46286028, 0x250169C0, 0x4DC84328, 0x462861E8,
    0x07C06800, 0xD1010FC0, 0xE7DA2001, 0x680048C3, 0x43282540, 0x60284DC1, 0xE7D22000, 0xBF004601,
    0x690048BE, 0x0FC007C0, 0x48BCD1FA, 0x222D6800, 0x4ABA4390, 0x46106010, 0x084069C0, 0x61D00040,
    0x47702000, 0xBF004601, 0x690048B4, 0x0FC007C0, 0x48B2D1FA, 0x22406800, 0x4AB04310, 0x20226010,
    0x088860D0, 0x60500080, 0x05402001, 0xD1014281, 0x609048AB, 0x4AA92001, 0xF3BF6110, 0xBF008F60,
    0x690048A6, 0x0FC007C0, 0x48A4D1FA, 0x22406800, 0xD0064210, 0x680048A1, 0x4AA04310, 0x20016010,
    0x20004770, 0xB570E7FC, 0x460C4603, 0xE0092500, 0x1C6D4629, 0x58580089, 0xFFC4F7FF, 0xD0010006,
    0xBD704630, 0xD3F342A5, 0xE7FA2000, 0x4604B570, 0x4615460B, 0x46292200, 0x300F4618, 0x011B0903,
    0x488EBF00, 0x07C06900, 0xD1FA0FC0, 0x6800488B, 0x43302640, 0x60304E89, 0x01000920, 0x20276070,
    0x461060F0, 0x00801C52, 0x4E845808, 0x60303680, 0x1C524610, 0x58080080, 0x46106070, 0x00801C52,
    0x60B05808, 0x1C524610, 0x58080080, 0x200160F0, 0x61304E7A, 0xE0263B10, 0x4878BF00, 0x680030C0,
    0x42302630, 0x4610D1F9, 0x00801C52, 0x4E735808, 0x60303680, 0x1C524610, 0x58080080, 0xBF006070,
    0x30C0486E, 0x26C06800, 0xD1F94230, 0x1C524610, 0x58080080, 0x36804E69, 0x461060B0, 0x00801C52,
    0x60F05808, 0x2B003B10, 0xBF00D1D6, 0x69004863, 0x0FC007C0, 0xBD70D1FA, 0x4603B510, 0x08811CC8,
    0xBF000089, 0x6900485D, 0x0FC007C0, 0x485BD1FA, 0x24406800, 0x4C594320, 0xE0206020, 0x4C572021,
    0x089860E0, 0x60600080, 0x60A06810, 0x61202001, 0x8F60F3BF, 0x4851BF00, 0x07C06900, 0xD1FA0FC0,
    0x6800484E, 0x42202440, 0x484CD006, 0x43206800, 0x60204C4A, 0xBD102001, 0x1D121D1B, 0x29001F09,
    0x2000D1DC, 0xB5FEE7F7, 0x460C4605, 0x20004616, 0x90009001, 0x4841BF00, 0x07C06900, 0xD1FA0FC0,
    0x6800483E, 0x43082140, 0x6008493C, 0x08841CE0, 0xE02F00A4, 0x0E000628, 0x2CFFD10B, 0x27FFD909,
    0x98013701, 0x46391832, 0xF7FF4628, 0x9000FF3F, 0x0628E016, 0xD10B0E00, 0xD3092C10, 0x013F0927,
    0x18329801, 0x46284639, 0xFF30F7FF, 0xE0079000, 0x98014627, 0x46391832, 0xF7FF4628, 0x9000FF8D,
    0x980119ED, 0x900119C0, 0x98001BE4, 0xD0012800, 0xBDFE2001, 0xD1CD2C00, 0xE7FA2000, 0x1CCBB510,
    0x00890899, 0x4B1DBF00, 0x07DB691B, 0xD1FA0FDB, 0x681B4B1A, 0x43232440, 0x60234C18, 0x2300E025,
    0x60E34C16, 0x009B0883, 0x23006063, 0x230160A3, 0xF3BF6123, 0xBF008F60, 0x691B4B10, 0x0FDB07DB,
    0x4B0ED1FA, 0x2440681B, 0xD0054223, 0x681B4B0B, 0x4C0A4323, 0xBD106023, 0x689B4B08, 0x42A36814,
    0xE7F8D000, 0x1D121D00, 0x29001F09, 0xBF00D1D7, 0x0000E7F1, 0x50000100, 0x50000200, 0x5000C000,
    0x0055AA03, 0x00000000
};

const program_target_t flash_algo = {
    0x20000021,  // Init
    0x2000009D,  // UnInit
    0x12000001F,  // EraseChip
    0x200000C5,  // EraseSector
    0x20000287,  // ProgramPage

    // BKPT : start of blob + 1
    // RSB  : address to access global/static data
    // RSP  : stack pointer
    {
        0x20000001,
        0x20000C00,
        0x20001000
    },

    0x20000400,  // mem buffer location
    0x20000000,  // location to write prog_blob in target RAM
    sizeof(flash_code),  // prog_blob size
    flash_code,  // address of prog_blob
    0x00000800,  // ram_to_flash_bytes_to_be_written
};
